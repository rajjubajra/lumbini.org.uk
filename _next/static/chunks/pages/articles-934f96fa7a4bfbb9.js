(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[91],{9682:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/articles",function(){return i(9317)}])},8537:function(e,t,i){"use strict";i.d(t,{v:function(){return a}});let a=e=>{let t=new Date(e),i=t.getDate(),a=t.getMonth(),l=t.getFullYear();return" ".concat(i," ").concat(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][a],", ").concat(l)}},4045:function(e,t,i){"use strict";i.d(t,{J:function(){return l}});var a=i(4494);let l=(e,t)=>{var i,l,r,n;let d=null==t?void 0:null===(i=t.relationships)||void 0===i?void 0:null===(l=i.field_image_media)||void 0===l?void 0:null===(r=l.data)||void 0===r?void 0:r.id,o=e&&d&&(null==e?void 0:e.findIndex(e=>e.id===d));return d&&e&&a.g.URL+(null===(n=e[o])||void 0===n?void 0:n.url)}},9317:function(e,t,i){"use strict";i.r(t);var a=i(5893),l=i(623),r=i(4494),n=i(5675),d=i.n(n),o=i(9734),s=i(9008),c=i.n(s),u=i(3727),v=i(1664),m=i.n(v),h=i(7294),_=i(8537),p=i(9069),f=i(4045);let x=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return fetch(...t).then(e=>e.json())};t.default=function(){var e,t,i;let[n,s]=(0,h.useState)("sort=-nid"),v=e=>{e.preventDefault(),e.target.category.value&&s("sort=-nid&filter[field_article_category][condition][path]=field_article_category.meta.drupal_internal__target_id&filter[field_article_category][condition][value]=".concat(e.target.category.value)),e.target.writer.value&&s("sort=-nid&filter[field_writer][condition][path]=field_writer.meta.drupal_internal__target_id&filter[field_writer][condition][value]=".concat(e.target.writer.value)),e.target.writer.value&&e.target.category.value&&s("sort=-nid&filter[field_writer][condition][path]=field_writer.meta.drupal_internal__target_id&filter[field_writer][condition][value]=".concat(e.target.writer.value,"&filter[field_article_category][condition][path]=field_article_category.meta.drupal_internal__target_id&filter[field_article_category][condition][value]=").concat(e.target.category.value)),e.target.writer.value||e.target.category.value||s("sort=-nid")},{data:g,error:j}=(0,o.ZP)("".concat(r.g.URL,"/jsonapi/node/lnbds_articles?include=field_image_media.field_media_image&").concat(n),x),{data:w,error:y}=(0,o.ZP)("".concat(r.g.URL,"/jsonapi/taxonomy_term/writer"),x),{data:b,error:N}=(0,o.ZP)("".concat(r.g.URL,"/jsonapi/taxonomy_term/tags"),x);console.log("Data what? ",g,j);let D=(0,p.d)(g);console.log("imgArr: ",D);let S=e=>{var t,i;let a=w&&(null==w?void 0:null===(t=w.data)||void 0===t?void 0:t.findIndex(t=>e===t.id));return null===(i=null==w?void 0:w.data[a])||void 0===i?void 0:i.attributes.name},[A,L]=(0,h.useState)([]);return((0,h.useEffect)(()=>{var e;let t=[];w&&(null==w||null===(e=w.data)||void 0===e||e.map(e=>{var i;return(null==g?void 0:null===(i=g.data)||void 0===i?void 0:i.some(t=>t.relationships.field_writer.data.meta.drupal_internal__target_id===e.attributes.drupal_internal__tid))&&t.push({tid:e.attributes.drupal_internal__tid,name:e.attributes.name})})),L(t)},[g,w]),j)?(0,a.jsx)("div",{children:"Failed to load"}):g?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(c(),{children:[(0,a.jsx)("title",{children:"Activities - Lumbini Nepalese Buddha Dharma Society"}),(0,a.jsx)("meta",{name:"viewport",content:"initial-scale=1.0, width=device-width"}),(0,a.jsx)("meta",{property:"og:title",content:"Articles - Lumbini Nepalese Buddha Dharma Society"}),(0,a.jsx)("meta",{property:"og:url",content:"https://www.lumbini.org.uk/articles"}),(0,a.jsx)("meta",{property:"og:type",content:"website"}),(0,a.jsx)("meta",{property:"og:description",content:"Acticles published by Lumbini Nepalese Buddha Dharma Society"}),(0,a.jsx)("meta",{name:"description",content:"Lumbini Nepalese Buddha Dharma Society - Articles. "}),(0,a.jsx)("meta",{name:"author",content:"yellow-website.com"})]}),(0,a.jsxs)(l.Z,{children:[(0,a.jsx)("div",{className:"ml-8 my-20",children:(0,a.jsx)("h1",{children:"Articles:"})}),(0,a.jsx)("div",{children:(0,a.jsx)("div",{children:(0,a.jsxs)("form",{className:"flex flex-wrap gap-2 ml-10",onSubmit:v,children:[(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("lebel",{children:"Select Writer"}),(0,a.jsxs)("select",{name:"writer",className:"md:w-52 w-full border outline-0 py-1 px-2",children:[(0,a.jsx)("option",{}),A&&A.map(e=>(0,a.jsx)("option",{value:e.tid,children:e.name},e.tid))]})]}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("lebel",{children:"Select Category"}),(0,a.jsxs)("select",{name:"category",className:"md:w-60 w-full border outline-0 py-1 px-2",children:[(0,a.jsx)("option",{}),b&&(null==b?void 0:null===(e=b.data)||void 0===e?void 0:e.map(e=>(0,a.jsx)("option",{value:e.attributes.drupal_internal__tid,children:e.attributes.name},e.id)))]})]}),(0,a.jsx)("div",{children:(0,a.jsxs)("button",{className:"relative group w-32 border py-1.5 sm:mt-6 hover:shadow-md duration-500",children:[(0,a.jsx)("span",{className:"absolute left-3 top-3.5 w-3 h-3 bg-lime-400 group-hover:rotate-45 duration-500"}),(0,a.jsx)("span",{children:"Filter"})]})})]})})}),(0,a.jsx)("div",{className:"flex flex-col gap-4 ml-8",children:g&&(null==g?void 0:null===(t=g.data)||void 0===t?void 0:t.length)?null==g?void 0:null===(i=g.data)||void 0===i?void 0:i.map(e=>(0,a.jsx)("div",{children:(0,a.jsx)(m(),{href:"/articles/".concat(e.id),children:(0,a.jsxs)("div",{className:"relative m-2 p-10 border",children:[(0,a.jsxs)("div",{className:"my-2 w-full text-right text-xs",children:["Date: ",(0,_.v)(e.attributes.created)]}),(0,a.jsx)("div",{children:null==D?void 0:D.map(t=>{var i,l,r;return(null==t?void 0:t.id)===(null==e?void 0:null===(i=e.relationships)||void 0===i?void 0:null===(l=i.field_image_media)||void 0===l?void 0:null===(r=l.data)||void 0===r?void 0:r.id)&&(0,a.jsx)(d(),{className:"w-32 h-auto py-2",src:(0,f.J)(D,e),width:100,height:100,alt:"lumbini"})})}),(0,a.jsx)("h3",{children:e.attributes.title}),(0,a.jsxs)("div",{className:"text-sm my-10 ",children:["by : ",S(e.relationships.field_writer.data.id)]})]})})},e.id)):(0,a.jsx)("div",{className:"mt-20 ml-20",children:"No article found"})})]})]}):(0,a.jsx)(u.Z,{})}}},function(e){e.O(0,[937,374,600,774,888,179],function(){return e(e.s=9682)}),_N_E=e.O()}]);